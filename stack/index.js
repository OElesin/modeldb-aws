#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const vpc_stack_1 = require("./lib/vpc-stack");
const rds_stack_1 = require("./lib/rds-stack");
const ecs_stack_1 = require("./lib/ecs-stack");
const cdk = require("@aws-cdk/core");
const app = new cdk.App();
const vpcStack = new vpc_stack_1.VpcStack(app, 'MLInfraVpc');
const rdsStack = new rds_stack_1.RDSStack(app, 'ModelDbRDSStack', {
    vpc: vpcStack.vpc,
    username: 'postgres',
    databaseName: 'postgres',
    port: 5432,
});
rdsStack.addDependency(vpcStack);
const ecsStack = new ecs_stack_1.ECSStack(app, 'ModelDbECSClusterStack', {
    vpc: vpcStack.vpc,
    dbUsername: 'postgres'
});
ecsStack.addDependency(rdsStack);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx1Q0FBcUM7QUFDckMsK0NBQXlDO0FBQ3pDLCtDQUF5QztBQUN6QywrQ0FBeUM7QUFDekMscUNBQXNDO0FBRXRDLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBRTFCLE1BQU0sUUFBUSxHQUFHLElBQUksb0JBQVEsQ0FBQyxHQUFHLEVBQUUsWUFBWSxDQUFHLENBQUM7QUFFbkQsTUFBTSxRQUFRLEdBQUcsSUFBSSxvQkFBUSxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsRUFBRTtJQUNsRCxHQUFHLEVBQUUsUUFBUSxDQUFDLEdBQUc7SUFDakIsUUFBUSxFQUFFLFVBQVU7SUFDcEIsWUFBWSxFQUFFLFVBQVU7SUFDeEIsSUFBSSxFQUFFLElBQUk7Q0FDYixDQUFDLENBQUM7QUFDSCxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBRWpDLE1BQU0sUUFBUSxHQUFHLElBQUksb0JBQVEsQ0FBQyxHQUFHLEVBQUUsd0JBQXdCLEVBQUU7SUFDekQsR0FBRyxFQUFFLFFBQVEsQ0FBQyxHQUFHO0lBQ2pCLFVBQVUsRUFBRSxVQUFVO0NBQ3pCLENBQUMsQ0FBQztBQUNILFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXG5pbXBvcnQgJ3NvdXJjZS1tYXAtc3VwcG9ydC9yZWdpc3Rlcic7XG5pbXBvcnQge1ZwY1N0YWNrfSBmcm9tICcuL2xpYi92cGMtc3RhY2snO1xuaW1wb3J0IHtSRFNTdGFja30gZnJvbSAnLi9saWIvcmRzLXN0YWNrJztcbmltcG9ydCB7RUNTU3RhY2t9IGZyb20gJy4vbGliL2Vjcy1zdGFjayc7XG5pbXBvcnQgY2RrID0gcmVxdWlyZSgnQGF3cy1jZGsvY29yZScpO1xuXG5jb25zdCBhcHAgPSBuZXcgY2RrLkFwcCgpO1xuXG5jb25zdCB2cGNTdGFjayA9IG5ldyBWcGNTdGFjayhhcHAsICdNTEluZnJhVnBjJywgKTtcblxuY29uc3QgcmRzU3RhY2sgPSBuZXcgUkRTU3RhY2soYXBwLCAnTW9kZWxEYlJEU1N0YWNrJywge1xuICAgIHZwYzogdnBjU3RhY2sudnBjLFxuICAgIHVzZXJuYW1lOiAncG9zdGdyZXMnLFxuICAgIGRhdGFiYXNlTmFtZTogJ3Bvc3RncmVzJyxcbiAgICBwb3J0OiA1NDMyLFxufSk7XG5yZHNTdGFjay5hZGREZXBlbmRlbmN5KHZwY1N0YWNrKTtcblxuY29uc3QgZWNzU3RhY2sgPSBuZXcgRUNTU3RhY2soYXBwLCAnTW9kZWxEYkVDU0NsdXN0ZXJTdGFjaycsIHtcbiAgICB2cGM6IHZwY1N0YWNrLnZwYyxcbiAgICBkYlVzZXJuYW1lOiAncG9zdGdyZXMnXG59KTtcbmVjc1N0YWNrLmFkZERlcGVuZGVuY3kocmRzU3RhY2spOyJdfQ==